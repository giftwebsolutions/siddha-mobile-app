<ion-content>
  <div class="password-container">
    <h2>Reset Password</h2>
    <p>Please enter your new password below.</p>

    <form [formGroup]="passwordForm" (ngSubmit)="onSubmit()">
      <!-- New Password -->
      <div class="form-group">
        <label for="newPassword">New Password *</label>
        <input
          [type]="showPassword ? 'text' : 'password'"
          id="newPassword"
          placeholder="Enter new password"
          formControlName="newPassword"
        />
        @if (f['newPassword']?.errors && (f['newPassword'].dirty || f['newPassword'].touched)) {
          @if (f['newPassword'].errors?.['required']) {
            <div class="error">Password is required.</div>
          }
          @if (f['newPassword'].errors?.['minlength']) {
            <div class="error">Minimum 8 characters required.</div>
          }
          @if (f['newPassword'].errors?.['pattern']) {
            <div class="error">
              Must include uppercase, lowercase, number, and special character.
            </div>
          }
        }
      </div>

      <!-- Confirm Password -->
      <div class="form-group">
        <label for="confirmPassword">Confirm Password *</label>
        <input
          [type]="showPassword ? 'text' : 'password'"
          id="confirmPassword"
          placeholder="Confirm new password"
          formControlName="confirmPassword"
        />
        @if (f['confirmPassword']?.errors && (f['confirmPassword'].dirty || f['confirmPassword'].touched)) {
          @if (f['confirmPassword'].errors?.['required']) {
            <div class="error">Please confirm your password.</div>
          }
          @if (passwordForm.errors?.['mismatch']) {
            <div class="error">Passwords do not match.</div>
          }
        }
      </div>

      <!-- Toggle Password Visibility -->
      <div class="password-options">
        <input type="checkbox" (click)="togglePassword()" /> Show Password
      </div>

      <!-- Submit -->
      <button type="submit" class="btn-primary" [disabled]="passwordForm.invalid">
        Reset Password
      </button>
    </form>
  </div>
</ion-content>
