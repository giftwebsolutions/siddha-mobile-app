<ion-content>
  <div class="register-container">
    <h2>Become User</h2>
    <p>If you are new to our store, we are glad to have you as a member.</p>

    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
      <!-- First Name -->
      <div class="form-group">
        <label for="firstName">First Name *</label>
        <input id="firstName" type="text" placeholder="First Name" formControlName="firstName" />
        @if (f['firstName']?.errors && (f['firstName'].dirty || f['firstName'].touched)) {
          @if (f['firstName']?.errors?.['required']) {
            <div class="error">First Name is required.</div>
          }
        }
      </div>

      <!-- Last Name -->
      <div class="form-group">
        <label for="lastName">Last Name *</label>
        <input id="lastName" type="text" placeholder="Last Name" formControlName="lastName" />
        @if (f['lastName']?.errors && (f['lastName'].dirty || f['lastName'].touched)) {
          @if (f['lastName']?.errors?.['required']) {
            <div class="error">Last Name is required.</div>
          }
        }
      </div>

      <!-- Email -->
      <div class="form-group">
        <label for="email">Email *</label>
        <input id="email" type="email" placeholder="email@example.com" formControlName="email" />
        @if (f['email']?.errors && (f['email'].dirty || f['email'].touched)) {
          @if (f['email']?.errors?.['required']) {
            <div class="error">Email is required.</div>
          }
          @if (f['email']?.errors?.['email']) {
            <div class="error">Enter a valid email.</div>
          }
        }
      </div>

      <!-- Password -->
      <div class="form-group">
        <label for="password">Password *</label>
        <input id="password" type="password" placeholder="Password" formControlName="password" />
        @if (f['password']?.errors && (f['password'].dirty || f['password'].touched)) {
          @if (f['password']?.errors?.['required']) {
            <div class="error">Password is required.</div>
          }
          @if (f['password']?.errors?.['minlength']) {
            <div class="error">Password must be at least 6 characters.</div>
          }
        }
      </div>

      <!-- Confirm Password -->
      <div class="form-group">
        <label for="confirmPassword">Confirm Password *</label>
        <input id="confirmPassword" type="password" placeholder="Confirm Password" formControlName="confirmPassword" />
        @if (f['confirmPassword']?.errors && (f['confirmPassword'].dirty || f['confirmPassword'].touched)) {
          @if (f['confirmPassword']?.errors?.['required']) {
            <div class="error">Confirm Password is required.</div>
          }
        }
        @if (
          registerForm.errors?.['passwordMismatch'] &&
          (f['confirmPassword'].dirty || f['confirmPassword'].touched)
        ) {
          <div class="error">Passwords do not match.</div>
        }
      </div>

      <!-- Submit -->
      <button type="submit" class="btn-primary" [disabled]="registerForm.invalid">
        Register
      </button>
    </form>

    <!-- Login Redirect -->
    <p class="sign-in-link">
      Already have an account? <a href="/login">Sign In</a>
    </p>
  </div>
</ion-content>
